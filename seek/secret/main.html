<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8"><!--设定编码-->
	<script src="../../page.js"></script>
	<link rel="stylesheet" type="text/css" href="../../pageset.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="该程序是四水合铜离子8月19号的第一个程序，考虑改名为Favorskii">   <!--网页描述-->
	<meta name="suthor" content="四水合铜离子">   <!--手机页面自适应-->
	<title>四水合铜离子的个人网页</title>
	<style>
		@media only screen and (max-width: 600px) {
			/* 在屏幕宽度小于等于600px时应用的样式 */
			/* 可以设置元素的宽度、高度、字体大小等 */
			body {
				background-size: cover;
			}
			img {
				width: 100%;
			}
			.block1, .block2 {
				width: 90%;
				margin: 0 auto;
			}
		}
	</style>
    <style>
        /* 半透明遮罩层样式 */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 100);
            z-index: 2;
        }
        /* 密码验证窗口样式 */
        .modal {
            display: none;
            position: fixed;
            z-index: 3;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background-color: #fefefe;
            padding: 20px;
            border: 1px solid #888;
            width: 300px;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body background="../../背景图.jpg">
	<div class="overlay" onclick="closeModal()"></div>
	<div class="modal">
		<span class="close" onclick="closeModal()">&times;</span>
		<p>请输入密码以继续访问：</p>
		<input type="password" id="passwordInput">
		<button onclick="validatePassword()">提交</button>
	</div>
	<script>
		var modal = document.querySelector('.modal');
		var overlay = document.querySelector('.overlay');
		var passwordInput = document.getElementById('passwordInput');

		function showModal() {
			modal.style.display = 'block';
			overlay.style.display = 'block';
		}

		function closeModal() {
			modal.style.display = 'none';
			overlay.style.display = 'none';
		}

		// function validatePassword() {
        //     var inputPassword = document.getElementById("passwordInput").value;
        //     var correctPassword = ".20120587";

        //     if (inputPassword === correctPassword) {
        //         modal.style.display = "none";
        //         document.body.classList.remove("hidden"); // 移除隐藏类
		// 		closeModal()
        //     } else {
        //         alert("密码错误！");
        //     }
        // }

		async function validatePassword() {
			// 获取用户输入的密码
			var inputPassword = document.getElementById("passwordInput").value;

			// 已有的正确密码的SHA-256哈希值
			// 注意：在实际应用中，这个哈希值应该从服务器端获取或者事先在服务器端生成
			var correctPasswordHash = "a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3";

			try {
				// 使用Web Crypto API生成用户输入密码的SHA-256哈希值
				const hashBuffer = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(inputPassword));
				const hashArray = Array.from(new Uint8Array(hashBuffer));
				const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
				console.log(hashHex)

				// 比较生成的哈希值与正确的哈希值
				if (hashHex === correctPasswordHash) {
					closeModal();
				} else {
					throw new Error("密码错误!");
				}
			} catch (error) {
				alert(error.message);
			}
		}

		// 在页面加载时显示密码验证窗口
		window.onload = function() {
			showModal();
		}
	</script>

	<div style="text-align: center">
		<img src="../../头图.png" width=50%>
	</div>
	<div class="backgroundset" id="background">
		<div class="parentblock">
			<div class="block1" style="background-color: rgba(23,114,180,0.25); padding: 5px" id="box12">
				<div class="parentblock">
					<div class="block2" id="box14" >
						<h3><a href="../../index.html" target="_blank">隐藏空间</a></h3>
						<details>
							<summary>待办事项</summary>
								<li><a>deepspeed</a></li>
								<li><a>下载pistical数据集</a></li>
						</details>
						<details>
							<summary>待学习</summary>
								<li>如何将图片嵌入</li>
						</details>
					</div>
				</div>
		</div>
		</div>
	</div>
	<p style="text-align: center">联系我们：1648633668@qq.com</p>
	<p style="text-align: center">版权所有 | 四水合铜离子</p>
</body>
</html>